/* Design tokens */
:root {
    --bg1: #0f172a; /* slate-900 */
    --bg2: #1e293b; /* slate-800 */
    --primary-500: #6366f1; /* indigo-500 */
    --primary-400: #818cf8; /* indigo-400 */
    --primary-600: #4f46e5; /* indigo-600 */
    --accent-500: #f43f5e; /* rose-500 */
    --text-100: #f8fafc; /* slate-50 */
    --text-300: #cbd5e1; /* slate-300 */
    --muted: #94a3b8; /* slate-400 */
    --card: #0b1220cc; /* translucent */
    --border: #23324d; 
    --shadow: 0 20px 50px rgba(0,0,0,0.35);
    --radius-lg: 16px;
    --radius-md: 10px;
    --radius-sm: 8px;
    --transition: 240ms cubic-bezier(.21,.64,.29,1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    display: grid;
    place-items: center;
    padding: 24px;
    color: var(--text-100);
    background:
        radial-gradient(1200px 800px at 10% -10%, rgba(99,102,241,0.25), transparent 60%),
        radial-gradient(1000px 700px at 110% 10%, rgba(244,63,94,0.25), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    animation: bgFloat 12s ease-in-out infinite alternate; 
}

@keyframes bgFloat {
    from { background-position: 0px 0px, 0px 0px, 0 0; }
    to   { background-position: 20px -20px, -20px 20px, 0 0; }
}

#root { width: 100%; max-width: 720px; }

.todo-container {
    width: 100%;
    background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 28px;
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
}

.app-title {
    text-align: center;
    color: var(--text-100);
    margin-bottom: 18px;
    font-size: 32px;
    letter-spacing: 0.3px;
}

/* Form */
.todo-form {
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 12px;
    margin-bottom: 22px;
}

.todo-input {
    flex: 1;
    padding: 14px 16px;
    background: rgba(15,23,42,0.5);
    border: 1px solid var(--border);
    color: var(--text-100);
    border-radius: var(--radius-md);
    font-size: 16px;
    transition: border-color var(--transition), box-shadow var(--transition), transform var(--transition);
}
.todo-input::placeholder { color: var(--muted); }
.todo-input:focus {
    outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 6px rgba(99,102,241,0.15);
}

.todo-button {
    padding: 12px 22px;
    background: linear-gradient(135deg, var(--primary-500), var(--primary-400));
    color: white;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    font-size: 16px;
    font-weight: 700;
    letter-spacing: .2px;
    transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
}
.todo-button:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(99,102,241,.35); }
.todo-button:active { transform: translateY(0px) scale(.98); filter: brightness(.95); }

/* List */
.todo-list { max-height: 440px; overflow-y: auto; border-radius: var(--radius-md); }
.todo-list::-webkit-scrollbar { width: 8px; }
.todo-list::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); border-radius: 10px; }
.todo-list::-webkit-scrollbar-thumb { background: rgba(148,163,184,.5); border-radius: 10px; }
.todo-list::-webkit-scrollbar-thumb:hover { background: rgba(148,163,184,.8); }

.empty-message { text-align: center; color: var(--text-300); padding: 28px 12px; }
.empty-message p { font-style: italic; }
.empty-illustration {
    width: 96px; height: 96px; margin: 0 auto 10px; border-radius: 50%;
    background: conic-gradient(from 180deg at 50% 50%, rgba(129,140,248,.6), rgba(244,63,94,.55));
    filter: blur(1px) saturate(120%);
    position: relative;
}
.empty-illustration::after {
    content: ''; position: absolute; inset: 10px; border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.25), transparent 60%);
}

/* Item */
.todo-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    border-bottom: 1px solid rgba(255,255,255,0.06);
    transition: background var(--transition), transform var(--transition), opacity var(--transition);
}
.todo-item:hover { background: rgba(255,255,255,0.04); }
.todo-item:last-child { border-bottom: none; }

/* Mount/Exit animations */
.todo-item.enter { animation: itemEnter 320ms var(--transition); }
.todo-item.exit { animation: itemExit 320ms var(--transition) forwards; }
@keyframes itemEnter {
    from { opacity: 0; transform: translateY(8px) scale(.98); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes itemExit {
    from { opacity: 1; transform: translateY(0) scale(1); }
    to   { opacity: 0; transform: translateY(8px) scale(.98); }
}

/* Checkbox */
.todo-checkbox-wrap { position: relative; width: 22px; height: 22px; display: inline-flex; }
.todo-checkbox { position: absolute; inset: 0; opacity: 0; width: 22px; height: 22px; cursor: pointer; }
.checkbox-visual {
    width: 22px; height: 22px; border-radius: 6px; display: grid; place-items: center;
    background: rgba(99,102,241,0.12);
    border: 1px solid var(--border);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.06);
    transition: background var(--transition), border-color var(--transition), transform var(--transition);
}
.todo-checkbox:focus + .checkbox-visual { box-shadow: 0 0 0 6px rgba(99,102,241,0.18); }
.todo-checkbox:checked + .checkbox-visual {
    background: linear-gradient(135deg, var(--primary-600), var(--primary-400));
    border-color: transparent;
}
.todo-checkbox:checked + .checkbox-visual::after {
    content: '\2713';
    color: white; font-weight: 900; transform: scale(0.9);
}

.todo-text {
    flex: 1; font-size: 16px; color: var(--text-100); line-height: 1.4;
    transition: color var(--transition), opacity var(--transition), filter var(--transition);
}
.todo-item.completed .todo-text { text-decoration: line-through; color: var(--text-300); opacity: .7; filter: saturate(60%); }

.delete-button {
    padding: 8px 12px;
    background: linear-gradient(135deg, var(--accent-500), #ef4444);
    color: white;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 14px;
    font-weight: 700;
    transition: transform var(--transition), box-shadow var(--transition), filter var(--transition);
}
.delete-button:hover { transform: translateY(-2px); box-shadow: 0 8px 22px rgba(239,68,68,.35); }
.delete-button:active { transform: translateY(0) scale(.98); filter: brightness(.95); }

/* Loading & Error */
.loading { text-align: center; padding: 36px; color: var(--primary-400); font-size: 18px; font-weight: 600; }
.loading::after { content: '...'; display: inline-block; animation: dots 1.5s steps(4, end) infinite; }
@keyframes dots { 0%,20%{content:'.'} 40%{content:'..'} 60%,100%{content:'...'} }

.error-message {
    background: rgba(244,63,94,0.1);
    color: #fecaca;
    padding: 12px 14px;
    border-radius: var(--radius-md);
    margin-bottom: 14px;
    border: 1px solid rgba(244,63,94,0.25);
    font-size: 14px;
    animation: shake 0.5s ease;
}
@keyframes shake { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-6px)} 75%{transform:translateX(6px)} }

/* Responsive */
@media (max-width: 640px) {
    .todo-container { padding: 20px; }
    .app-title { font-size: 24px; }
    .todo-form { grid-template-columns: 1fr; }
    .todo-button { width: 100%; }
}
